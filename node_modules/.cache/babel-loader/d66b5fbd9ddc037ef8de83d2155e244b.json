{"ast":null,"code":"import axios from 'axios';\nimport { queryClient } from '../AppProviders';\nconst client = axios.create();\nexport async function authenticate() {\n  return await client.get('/auth/login').then(res => res.data.user);\n}\nexport async function login(payload) {\n  await client.post('/auth/login', payload);\n  window.location.pathname = \"/\";\n}\nexport async function signup(payload) {\n  await client.post('/auth/signup', payload);\n  window.location.assign('/settings/profile?redirected=true');\n}\nexport async function logout() {\n  await client.get('/auth/logout');\n  window.location.pathname = '/';\n}\nexport async function getNotifications() {}\nexport function readNotification() {}\nexport async function getPost() {}\nexport async function getReplies(postId) {\n  return await client.get(`/api/post/${postId}/replies`).then(res => res.data.posts);\n}\nexport async function getUserTimeline() {}\nexport async function getPosts({\n  pageParam = 1\n}) {\n  return await client.get(`/api/home_timeline?p=${pageParam}`).then(res => res.data.posts);\n}\nexport async function getPostLikes(postId) {\n  return await client.get(`/api/post/${postId}/likes`).then(res => res.data.users);\n}\nexport async function followUser() {}\nexport async function unfollowUser() {}\nexport async function getPostReposts(postId) {\n  return await client.get(`/api/post/${postId}/reposts`).then(res => res.data.users);\n}\nexport async function getUserFollowers() {}\nexport async function getFriends() {}\nexport async function getUserSuggestions() {\n  return await client.get('/api/users').then(res => res.data.users);\n}\nexport async function getTrends() {}\nexport async function getSearchResults() {}\nexport async function likePost(post) {\n  await client.get(`/api/like/${post.id_str}`);\n  await queryClient.invalidateQueries('Posts');\n  await queryClient.invalidateQueries('PostDetail');\n}\nexport async function unlikePost(post) {\n  await client.get(`/api/unlike/${post.id_str}`);\n  await queryClient.invalidateQueries('Posts');\n  await queryClient.invalidateQueries('PostDetail');\n}\nexport async function unrepostPost(post) {\n  await client.post(`/api/unrepost`, post);\n  await queryClient.invalidateQueries('Posts');\n  await queryClient.invalidateQueries('PostDetail');\n}\nexport async function repostPost(post) {\n  await client.post(`/api/repost`, post);\n  await queryClient.invalidateQueries('Posts');\n  await queryClient.invalidateQueries('PostDetail');\n}\nexport async function updateUserDetails(user) {\n  await client.post('/api/updateuser', user);\n}\nexport async function createPost(post, url = \"/api/post\") {\n  await client.post(url, post);\n  await queryClient.invalidateQueries('Posts');\n}\nexport async function getPostById(postId) {\n  return await client.get(`/api/post/${postId}`).then(res => res.data.post);\n}","map":{"version":3,"sources":["/Users/auroremartin/Downloads/build-twitter-with-react/src/utils/api-client.js"],"names":["axios","queryClient","client","create","authenticate","get","then","res","data","user","login","payload","post","window","location","pathname","signup","assign","logout","getNotifications","readNotification","getPost","getReplies","postId","posts","getUserTimeline","getPosts","pageParam","getPostLikes","users","followUser","unfollowUser","getPostReposts","getUserFollowers","getFriends","getUserSuggestions","getTrends","getSearchResults","likePost","id_str","invalidateQueries","unlikePost","unrepostPost","repostPost","updateUserDetails","createPost","url","getPostById"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,iBAA5B;AAEA,MAAMC,MAAM,GAAGF,KAAK,CAACG,MAAN,EAAf;AAEA,OAAO,eAAeC,YAAf,GAA8B;AAClC,SAAO,MAAMF,MAAM,CAACG,GAAP,CAAW,aAAX,EAA0BC,IAA1B,CAAgCC,GAAD,IAASA,GAAG,CAACC,IAAJ,CAASC,IAAjD,CAAb;AACF;AAED,OAAO,eAAeC,KAAf,CAAqBC,OAArB,EAA8B;AAClC,QAAMT,MAAM,CAACU,IAAP,CAAY,aAAZ,EAA2BD,OAA3B,CAAN;AACAE,EAAAA,MAAM,CAACC,QAAP,CAAgBC,QAAhB,GAA2B,GAA3B;AACF;AAED,OAAO,eAAeC,MAAf,CAAsBL,OAAtB,EAA+B;AACnC,QAAMT,MAAM,CAACU,IAAP,CAAY,cAAZ,EAA4BD,OAA5B,CAAN;AACAE,EAAAA,MAAM,CAACC,QAAP,CAAgBG,MAAhB,CAAuB,mCAAvB;AACF;AAED,OAAO,eAAeC,MAAf,GAAwB;AAC5B,QAAMhB,MAAM,CAACG,GAAP,CAAW,cAAX,CAAN;AACAQ,EAAAA,MAAM,CAACC,QAAP,CAAgBC,QAAhB,GAA2B,GAA3B;AACF;AAED,OAAO,eAAeI,gBAAf,GAAkC,CAAE;AAE3C,OAAO,SAASC,gBAAT,GAA4B,CAAE;AAErC,OAAO,eAAeC,OAAf,GAAyB,CAAE;AAElC,OAAO,eAAeC,UAAf,CAA0BC,MAA1B,EAAkC;AACtC,SAAO,MAAMrB,MAAM,CAACG,GAAP,CAAY,aAAYkB,MAAO,UAA/B,EAA0CjB,IAA1C,CAA+CC,GAAG,IAAIA,GAAG,CAACC,IAAJ,CAASgB,KAA/D,CAAb;AACF;AAED,OAAO,eAAeC,eAAf,GAAiC,CAAE;AAE1C,OAAO,eAAeC,QAAf,CAAwB;AAAEC,EAAAA,SAAS,GAAG;AAAd,CAAxB,EAA2C;AAC/C,SAAO,MAAMzB,MAAM,CAClBG,GADY,CACP,wBAAuBsB,SAAU,EAD1B,EAEZrB,IAFY,CAENC,GAAD,IAASA,GAAG,CAACC,IAAJ,CAASgB,KAFX,CAAb;AAGF;AAED,OAAO,eAAeI,YAAf,CAA4BL,MAA5B,EAAoC;AACxC,SAAO,MAAMrB,MAAM,CAACG,GAAP,CAAY,aAAYkB,MAAO,QAA/B,EAAwCjB,IAAxC,CAA6CC,GAAG,IAAIA,GAAG,CAACC,IAAJ,CAASqB,KAA7D,CAAb;AACF;AAED,OAAO,eAAeC,UAAf,GAA4B,CAAE;AAErC,OAAO,eAAeC,YAAf,GAA8B,CAAE;AAEvC,OAAO,eAAeC,cAAf,CAA8BT,MAA9B,EAAsC;AAC1C,SAAO,MAAMrB,MAAM,CAACG,GAAP,CAAY,aAAYkB,MAAO,UAA/B,EAA0CjB,IAA1C,CAA+CC,GAAG,IAAIA,GAAG,CAACC,IAAJ,CAASqB,KAA/D,CAAb;AACF;AAED,OAAO,eAAeI,gBAAf,GAAkC,CAAE;AAE3C,OAAO,eAAeC,UAAf,GAA4B,CAAE;AAErC,OAAO,eAAeC,kBAAf,GAAoC;AACxC,SAAO,MAAMjC,MAAM,CAACG,GAAP,CAAW,YAAX,EAAyBC,IAAzB,CAA8BC,GAAG,IAAIA,GAAG,CAACC,IAAJ,CAASqB,KAA9C,CAAb;AACF;AAED,OAAO,eAAeO,SAAf,GAA2B,CAAE;AAEpC,OAAO,eAAeC,gBAAf,GAAkC,CAAE;AAE3C,OAAO,eAAeC,QAAf,CAAwB1B,IAAxB,EAA8B;AAClC,QAAMV,MAAM,CAACG,GAAP,CAAY,aAAYO,IAAI,CAAC2B,MAAO,EAApC,CAAN;AACA,QAAMtC,WAAW,CAACuC,iBAAZ,CAA8B,OAA9B,CAAN;AACA,QAAMvC,WAAW,CAACuC,iBAAZ,CAA8B,YAA9B,CAAN;AACF;AAED,OAAO,eAAeC,UAAf,CAA0B7B,IAA1B,EAAgC;AACpC,QAAMV,MAAM,CAACG,GAAP,CAAY,eAAcO,IAAI,CAAC2B,MAAO,EAAtC,CAAN;AACA,QAAMtC,WAAW,CAACuC,iBAAZ,CAA8B,OAA9B,CAAN;AACA,QAAMvC,WAAW,CAACuC,iBAAZ,CAA8B,YAA9B,CAAN;AACF;AAED,OAAO,eAAeE,YAAf,CAA4B9B,IAA5B,EAAkC;AACtC,QAAMV,MAAM,CAACU,IAAP,CAAa,eAAb,EAA6BA,IAA7B,CAAN;AACA,QAAMX,WAAW,CAACuC,iBAAZ,CAA8B,OAA9B,CAAN;AACA,QAAMvC,WAAW,CAACuC,iBAAZ,CAA8B,YAA9B,CAAN;AACF;AAED,OAAO,eAAeG,UAAf,CAA0B/B,IAA1B,EAAgC;AACpC,QAAMV,MAAM,CAACU,IAAP,CAAa,aAAb,EAA2BA,IAA3B,CAAN;AACA,QAAMX,WAAW,CAACuC,iBAAZ,CAA8B,OAA9B,CAAN;AACA,QAAMvC,WAAW,CAACuC,iBAAZ,CAA8B,YAA9B,CAAN;AACF;AAED,OAAO,eAAeI,iBAAf,CAAiCnC,IAAjC,EAAuC;AAC3C,QAAMP,MAAM,CAACU,IAAP,CAAY,iBAAZ,EAA+BH,IAA/B,CAAN;AACF;AAED,OAAO,eAAeoC,UAAf,CAA0BjC,IAA1B,EAAgCkC,GAAG,GAAG,WAAtC,EAAmD;AACvD,QAAM5C,MAAM,CAACU,IAAP,CAAYkC,GAAZ,EAAiBlC,IAAjB,CAAN;AACA,QAAMX,WAAW,CAACuC,iBAAZ,CAA8B,OAA9B,CAAN;AACF;AAED,OAAO,eAAeO,WAAf,CAA2BxB,MAA3B,EAAmC;AACvC,SAAO,MAAMrB,MAAM,CAACG,GAAP,CAAY,aAAYkB,MAAO,EAA/B,EAAkCjB,IAAlC,CAAuCC,GAAG,IAAIA,GAAG,CAACC,IAAJ,CAASI,IAAvD,CAAb;AACF","sourcesContent":["import axios from 'axios';\nimport { queryClient } from '../AppProviders';\n\nconst client = axios.create();\n\nexport async function authenticate() {\n   return await client.get('/auth/login').then((res) => res.data.user);\n}\n\nexport async function login(payload) {\n   await client.post('/auth/login', payload);\n   window.location.pathname = \"/\";\n}\n\nexport async function signup(payload) {\n   await client.post('/auth/signup', payload);\n   window.location.assign('/settings/profile?redirected=true'); \n}\n\nexport async function logout() {\n   await client.get('/auth/logout');\n   window.location.pathname = '/';\n}\n\nexport async function getNotifications() {}\n\nexport function readNotification() {}\n\nexport async function getPost() {}\n\nexport async function getReplies(postId) {\n   return await client.get(`/api/post/${postId}/replies`).then(res => res.data.posts);\n}\n\nexport async function getUserTimeline() {}\n\nexport async function getPosts({ pageParam = 1 }) {\n   return await client\n   .get(`/api/home_timeline?p=${pageParam}`)\n   .then((res) => res.data.posts);\n}\n\nexport async function getPostLikes(postId) {\n   return await client.get(`/api/post/${postId}/likes`).then(res => res.data.users);\n}\n\nexport async function followUser() {}\n\nexport async function unfollowUser() {}\n\nexport async function getPostReposts(postId) {\n   return await client.get(`/api/post/${postId}/reposts`).then(res => res.data.users);\n}\n\nexport async function getUserFollowers() {}\n\nexport async function getFriends() {}\n\nexport async function getUserSuggestions() {\n   return await client.get('/api/users').then(res => res.data.users);\n}\n\nexport async function getTrends() {}\n\nexport async function getSearchResults() {}\n\nexport async function likePost(post) {\n   await client.get(`/api/like/${post.id_str}`);\n   await queryClient.invalidateQueries('Posts');\n   await queryClient.invalidateQueries('PostDetail');\n}\n\nexport async function unlikePost(post) {\n   await client.get(`/api/unlike/${post.id_str}`);\n   await queryClient.invalidateQueries('Posts');\n   await queryClient.invalidateQueries('PostDetail');\n}\n\nexport async function unrepostPost(post) {\n   await client.post(`/api/unrepost`, post);\n   await queryClient.invalidateQueries('Posts');\n   await queryClient.invalidateQueries('PostDetail');\n}\n\nexport async function repostPost(post) {\n   await client.post(`/api/repost`, post);\n   await queryClient.invalidateQueries('Posts');\n   await queryClient.invalidateQueries('PostDetail');\n}\n\nexport async function updateUserDetails(user) {\n   await client.post('/api/updateuser', user);\n}\n\nexport async function createPost(post, url = \"/api/post\") {\n   await client.post(url, post);\n   await queryClient.invalidateQueries('Posts');\n}\n\nexport async function getPostById(postId) {\n   return await client.get(`/api/post/${postId}`).then(res => res.data.post);\n}\n"]},"metadata":{},"sourceType":"module"}