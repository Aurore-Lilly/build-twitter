{"ast":null,"code":"var _jsxFileName = \"/Users/auroremartin/Downloads/build-twitter-with-react/src/pages/SearchResults.js\",\n    _s = $RefreshSig$();\n\nimport Heading from \"components/Heading\";\nimport PostsList from \"components/PostsList\";\nimport UsersList from \"components/UsersList\";\nimport React from \"react\";\nimport { useQuery } from \"react-query\";\nimport { useHistory, Redirect } from \"react-router-dom\";\nimport { getSearchResults } from \"../utils/api-client\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function SearchResults() {\n  _s();\n\n  var _data$users, _data$posts;\n\n  const history = useHistory();\n  const query = new URLSearchParams(history.location.search).get('q');\n  const {\n    data,\n    isLoading,\n    isSuccess\n  } = useQuery(\"Search\", () => getSearchResults(query));\n  if (!query) return /*#__PURE__*/_jsxDEV(Redirect, {\n    to: \"/explore\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 16,\n    columnNumber: 22\n  }, this);\n  if (isLoading) return /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 17,\n    columnNumber: 25\n  }, this);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Heading, {\n      title: \"Search\",\n      backButton: true,\n      btnProfile: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 7\n    }, this), ((_data$users = data.users) === null || _data$users === void 0 ? void 0 : _data$users.length) && /*#__PURE__*/_jsxDEV(UsersList, {\n      users: data.users,\n      isSuccess: isSuccess\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 30\n    }, this), ((_data$posts = data.posts) === null || _data$posts === void 0 ? void 0 : _data$posts.length) ? /*#__PURE__*/_jsxDEV(PostsList, {\n      posts: data.posts,\n      isSuccess: isSuccess\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"message\",\n      children: \"No posts found\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n\n_s(SearchResults, \"oa4OB8fbFr6E20P3sRXwZilfBbs=\", false, function () {\n  return [useHistory, useQuery];\n});\n\n_c = SearchResults;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchResults\");","map":{"version":3,"sources":["/Users/auroremartin/Downloads/build-twitter-with-react/src/pages/SearchResults.js"],"names":["Heading","PostsList","UsersList","React","useQuery","useHistory","Redirect","getSearchResults","SearchResults","history","query","URLSearchParams","location","search","get","data","isLoading","isSuccess","users","length","posts"],"mappings":";;;AAAA,OAAOA,OAAP,MAAoB,oBAApB;AACA,OAAOC,SAAP,MAAsB,sBAAtB;AACA,OAAOC,SAAP,MAAsB,sBAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,aAAzB;AACA,SAASC,UAAT,EAAqBC,QAArB,QAAqC,kBAArC;AACA,SAASC,gBAAT,QAAiC,qBAAjC;;;AAEA,eAAe,SAASC,aAAT,GAAyB;AAAA;;AAAA;;AACtC,QAAMC,OAAO,GAAGJ,UAAU,EAA1B;AACA,QAAMK,KAAK,GAAG,IAAIC,eAAJ,CAAoBF,OAAO,CAACG,QAAR,CAAiBC,MAArC,EAA6CC,GAA7C,CAAiD,GAAjD,CAAd;AACA,QAAM;AAACC,IAAAA,IAAD;AAAOC,IAAAA,SAAP;AAAkBC,IAAAA;AAAlB,MAA+Bb,QAAQ,CAAC,QAAD,EAAW,MAAMG,gBAAgB,CAACG,KAAD,CAAjC,CAA7C;AAIA,MAAI,CAACA,KAAL,EAAY,oBAAO,QAAC,QAAD;AAAU,IAAA,EAAE,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,UAAP;AACZ,MAAIM,SAAJ,EAAe,oBAAO,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA,UAAP;AAGf,sBACE;AAAA,4BACE,QAAC,OAAD;AAAS,MAAA,KAAK,EAAC,QAAf;AAAwB,MAAA,UAAU,MAAlC;AAAmC,MAAA,UAAU;AAA7C;AAAA;AAAA;AAAA;AAAA,YADF,EAEG,gBAAAD,IAAI,CAACG,KAAL,4DAAYC,MAAZ,kBAAsB,QAAC,SAAD;AAAW,MAAA,KAAK,EAAEJ,IAAI,CAACG,KAAvB;AAA8B,MAAA,SAAS,EAAED;AAAzC;AAAA;AAAA;AAAA;AAAA,YAFzB,EAGG,gBAAAF,IAAI,CAACK,KAAL,4DAAYD,MAAZ,iBACC,QAAC,SAAD;AAAW,MAAA,KAAK,EAAEJ,IAAI,CAACK,KAAvB;AAA8B,MAAA,SAAS,EAAEH;AAAzC;AAAA;AAAA;AAAA;AAAA,YADD,gBAGC;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YANJ;AAAA,kBADF;AAWD;;GAtBuBT,a;UACNH,U,EAEqBD,Q;;;KAHfI,a","sourcesContent":["import Heading from \"components/Heading\";\nimport PostsList from \"components/PostsList\";\nimport UsersList from \"components/UsersList\";\nimport React from \"react\";\nimport { useQuery } from \"react-query\";\nimport { useHistory, Redirect } from \"react-router-dom\";\nimport { getSearchResults } from \"../utils/api-client\";\n\nexport default function SearchResults() {\n  const history = useHistory();\n  const query = new URLSearchParams(history.location.search).get('q')\n  const {data, isLoading, isSuccess} = useQuery(\"Search\", () => getSearchResults(query))\n\n  \n\n  if (!query) return <Redirect to=\"/explore\" />\n  if (isLoading) return <Spinner />\n\n\n  return (\n    <>\n      <Heading title=\"Search\" backButton btnProfile />\n      {data.users?.length && <UsersList users={data.users} isSuccess={isSuccess} />}\n      {data.posts?.length ? (\n        <PostsList posts={data.posts} isSuccess={isSuccess} />\n      ) : (\n        <div className=\"message\">No posts found</div>\n      )}\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}